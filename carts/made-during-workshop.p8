pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
-- pico-8 workshop example game
-- by darren kearney
-- for ul game development society, 1st november 2018
function _init()

 player = {}
 player['name'] = 'bob'
 player.sprite = 1
 player.speed = 2
 player.x = 64
 player.y = 64
 player.direction = 'right'
 player.flip_x = false

 ghosts = {}
 for i=1,4 do
  g = {}
  g.x = rnd(128)
  g.y = rnd(128)
  g.speed = 1.5
  g.flip_x = false
  ghosts[i] = g
 end

end

function _update()

 -- player movement
 if( btn(2) ) then
  player.y -= player.speed
 end
 if( btn(3) ) then
  player.y += player.speed
 end
 if( btn(0) ) then
  player.x -= player.speed
  player.direction = 'left'
 end
 if( btn(1) ) then
  player.x += player.speed
  player.direction = 'right'
 end

 if (player.direction == 'right') then
  player.flip_x = false
 else
  player.flip_x = true
 end

 -- ghost movement
 for i=1,#ghosts do

  if (player.x < ghosts[i].x ) then
  	ghosts[i].x -= ghosts[i].speed
  end
  if (player.x > ghosts[i].x ) then
  	ghosts[i].x += ghosts[i].speed
  end
  if (player.y < ghosts[i].y ) then
  	ghosts[i].y -= ghosts[i].speed
  end
  if (player.y > ghosts[i].y ) then
  	ghosts[i].y += ghosts[i].speed
  end

 end

end

function _draw()
 cls()
 spr(player.sprite, player.x, player.y, 1, 1, player.flip_x, false)

 for i=1,#ghosts do
  spr(16, ghosts[i].x, ghosts[i].y, 1, 1, ghosts[i].flip_x, false)
 end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000aaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000990aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700009999aa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000099000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700099999a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01771170000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01771170000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01011010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
011e00000c7500e750107500c7500c7500c7500e75010750107501075010750107500e7500e7500e7500c7500e75011750117500c7500c7500c7502670025700237001d7001d7001e7002f700207002f7002e700
